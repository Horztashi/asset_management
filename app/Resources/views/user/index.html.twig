{% extends 'base.html.twig' %}

{% block body %}
    <div id = "datalist" class = "datalist">
        <div class = "container">
            <div class = "row">
                <div class = "col-md-6"><h4>List of Users</h4></div>
                <div class = "col-md-4"><input class = "search form-control" placeholder = "Search"></div>
                <div class = "col-md-2">
                    <a class = "btn btn-success btn-block"  data-toggle = "modal" data-target = "#newModal"><i class = "fa fa-plus"></i>Add</a>
                </div>
            </div>
        </div>

        <div class = "container list">
            {% for user in users %}
                <div class = "row">
                    <div class = "col-md-2">
                        {% if user.googleProfilePicture %}
                            <img class = "img-rounded pull-left img-user" src = "{{ user.googleProfilePicture }}"/>
                        {% else %}
                            <i class="fas fa-user"></i>
                        {% endif %}
                        <span class="empno">{{ user.employeenumber }}</span>
                    </div>
                    <div class = "col-md-3">
                        <span class="name">{{ user.fullname }}</span>                        
                    </div>
                    <div class = "col-md-3">
                        <span class="email">{{ user.email }}</span>
                    </div>
                    <div class = "col-md-1">
                        <span class="assetcount pull-right">{{user.assets.count}} Assets</span>                        
                    </div>
                    <div class = "col-md-1">
                        <span class="active pull-right">
                            {% if user.enabled %}
                                <span class = "label label-success">ACTIVE</span>
                            {% else %}
                                <span class = "label label-danger">NOT ACTIVE</span>
                            {% endif %}
                            
                        </span>
                    </div>
                    <div class = "col-md-2">
                        <div class = "btn-group pull-right">
                            <a href="{{ path('user_show',{'id':user.id})}}" class = "btn btn btn-primary"><i class="far fa-user"></i></a>
                            <a href="{{ path('user_edit',{'id':user.id})}}" class = "btn btn btn-primary"><i class="fa fa-edit"></i></a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class = "container">
            <div class = "row text-center">
                    <ul class="pagination"></ul>
            </div>
        </div>
    </div>
{% endblock %}
